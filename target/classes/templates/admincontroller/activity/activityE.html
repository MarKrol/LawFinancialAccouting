<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>LowFinancialAccounting</title>
    <link rel="stylesheet" href="../../admincontroller/body/body.css">
    <link rel="stylesheet" href="../../logout/logout.css">
    <link rel="stylesheet" href="../../menu/topmenu.css">
    <link rel="stylesheet" href="../../head/head.css">
    <link rel="stylesheet" href="../../foot/foot.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

</head>

<body>
<div id="all">
    <div id="signout">
        <div th:replace="logout.html::logout"></div>
    </div>
    <div id="head">
        <div th:replace="head/head.html::head"></div>
    </div>
    <div id="loginemployee">
        <p th:text="${'Zalogowany pracownik: '+employeeLogged}"></p>
    </div>
    <div th:replace="menu/topmenu.html::topmenu"></div>
    <div id="addfull">
        <p class="label">Moduł zarządzania dodanymi zajęciami</p>
        <form action="../../admincontroller/activity/activityE" method="post">
            <label><p class="message" th:text="${message}"></p></label>
            <label><p class="messageOK" th:text="${messageOK}"></p></label>
            <table id="full">
                <tr>
                    <td><label><p class="name" th:text="${'LISTA ZAJĘĆ'}"></p></label></td>
                </tr>
                <tr>
                    <td rowspan="3"><select required name="choose" path="orderId" size="10" id="list0" >
                        <option th:each="activity: ${activityList}"
                                    th:value="${activity.id}"
                                    th:text="${activity.name}"
                                    th:selected="${activity.name==nameActivity}">
                            </option>
                        </select></td>
                    <td style="width: 325px;"><label><p class="name">Nazwa pobytu: </p></label></td>
                    <td><input type="text" autocomplete="off" placeholder="nazwa" class="name" th:value="${activity.name}"
                               name="data" disabled/></td>
                </tr>
                <tr>
                    <td ><label><p class="name">Cena netto za pobyt [zł]: </p></label></td>
                    <td><input type="text" autocomplete="off"
                               pattern="^\d+(\.\d{1,2})$" placeholder="cena" class="name" th:value="*{activity.priceNet}"
                               name="data" onkeyup="manage(this)"/></td>
                </tr>
                <tr>
                    <td ><label><p class="name">VAT [%]: </p></label></td>
                    <td><input type="text" autocomplete="off" name="data"
                               pattern="^\d{1,2}$" placeholder="VAT" class="name" th:value="*{activity.VAT}"
                               onkeyup="manage(this)"/></td>
                </tr>
                <tr>
                    <td><input style="width:286px; margin-left:18px" type="submit" value="EDYTUJ ZAJĘCIA" id="editdata" name="edit"></td>
                    <td><input style="width:286px;" type="submit" value="USUŃ ZAJĘCIA" id="deletedata" name="delete"></td>
                    <td><input type="submit" value="ZAPISZ ZMIANY" id="savedata" disabled name="save"></td>
                </tr>
            </table>
        </form>
    </div>
    <div th:replace="foot/foot.html::foot"></div>
</div>

<script>
    function manage(txt) {
        var bt = document.getElementById('savedata');
        var ele = document.getElementsByName('data');

        // LOOP THROUGH EACH ELEMENT.
        for (i = 0; i < ele.length; i++) {

            // CHECK THE ELEMENT TYPE.
            if (ele[i].type == 'text' && ele[i].value == '') {
                bt.disabled = true;    // Disable the button.
                return false;
            }
            else {
                bt.disabled = false;   // Enable the button.
            }
        }
    }
</script>

</body>
</html>