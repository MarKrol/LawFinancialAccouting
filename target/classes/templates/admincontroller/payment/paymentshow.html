<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>LowFinancialAccounting</title>

    <link rel="stylesheet" href="../../admincontroller/body/body.css">
    <link rel="stylesheet" href="../../logout/logout.css">
    <link rel="stylesheet" href="../../menu/topmenu.css">
    <link rel="stylesheet" href="../../head/head.css">
    <link rel="stylesheet" href="../../foot/foot.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

</head>

<body>

<div id="all">
    <div id="signout">
        <div th:replace="logout.html::logout"></div>
    </div>
    <div id="head">
        <div th:replace="head/head.html::head"></div>
    </div>
    <div id="loginemployee">
        <p th:text="${'Zalogowany pracownik: '+employeeLogged}"></p>
    </div>
    <div th:replace="menu/topmenu.html::topmenu"></div>
    <div id="addfull">
        <form action="../../admincontroller/payment/paymentshow" method="post">
        <label><p class="label">Moduł zarządzania wpłatami</p></label>
            <label><p class="message" th:text="${message}"></p></label>
            <label><p class="messageOK" th:text="${messageOK}"></p></label>

            <div id="full">
                <div style="float:left">
                    <table>
                        <tr>
                            <td><label><p class="name" th:text="${'MIESIĄC WPŁATY: '}"></p></label></td>
                        </tr>
                        <tr>
                            <td>
                                <select required name="choose1" path="orderId" id="list00settlement">
                                    <!--option value="">Wybierz miesiąc z wpłatami</option-->
                                    <option th:each="listMonth:${listMonth}"
                                            th:value="${listMonth}"
                                            th:text="${listMonth}"
                                            th:selected="${listMonth==month}">

                                    </option>
                                </select>
                            </td>
                        </tr>
                        <tr>
                            <td><label><p class="name" th:text="${'WPŁATA NA KONTO: '}"></p></label></td>
                        </tr>
                        <tr>
                            <td><select required name="choosecompany" path="orderId" size="2" id="company">
                                <option th:each="preschooler: ${preschoolerList}"
                                        th:value="${preschooler.id}"
                                        th:text="${preschooler.name+' '+preschooler.surname}"
                                        th:selected="${preschooler.name+' '+preschooler.surname==nameSurname}">
                                </option>
                            </select></td>
                        </tr>
                        <tr>
                            <td><label><p class="name" th:text="${'GRUPA: '+nameGroup}"></p></label></td>
                        </tr>
                        <tr>
                            <td><select required name="choose" path="orderId" size="23" id="list0Activity" >
                                <option th:each="preschooler: ${preschoolerList}"
                                        th:value="${preschooler.id}"
                                        th:text="${preschooler.name+' '+preschooler.surname}"
                                        th:selected="${preschooler.name+' '+preschooler.surname==nameSurname}">
                                </option>
                            </select></td>
                        </tr>
                        <tr>
                            <td><input type="submit" value="POKAŻ WPŁATY" id="showSettlement" name="show"></td>
                        </tr>
                    </table>
                </div>
                <div>
                    <fieldset>
                        <table id="payment">
                            <legend>WPŁATA</legend>
                            <tr>
                                <td th:text="${'Nazwa:'}"></td>
                                <td th:text="${'Kwota [zł]:'}"></td>
                                <td th:text="${'Data:'}"></td>
                            </tr>
                            <tr>
                                <td><input type="text" autocomplete="off" placeholder="nazwa" value="" id="namepayment" onkeyup="manage(this)" name="wplata"/></td>
                                <td><input type="text" autocomplete="off" pattern="^\d+(\.\d{1,4})$" placeholder="kwota" id="pay" onkeyup="manage(this)" name="wplata"/></td>
                                <td><input type="date" placeholder="data" onkeyup="manage(this)" name="wplata"  id="setDate"/></td>
                                <td><input type="submit" value="DODAJ WPŁATĘ" id="addPay" disabled></td>
                            </tr>
                        </table>
                    </fieldset>
                    <table border="1" rules="all" frame="void" style="margin-bottom: 40px">
                        <tr>
                            <td colspan="4"><label><p class="name" th:text="${'HISTORIA WPŁAT - CENTRUM RODZINKI'}"></p></label></td>
                        </tr>
                        <tr style="background-color:#87CEFA; font-weight: bold">
                            <td class="colTableName" style="width: 200px" th:text="${'NAZWA WPŁATY'}"></td>
                            <td class="colTable" style="width: 150px" th:text="${'Kwota wpłaty [zł]'}"></td>
                            <td class="colTable" style="width: 150px" th:text="${'Data wpłaty'}"></td>
                            <td class="colTable" style="width: 150px" th:text="${'Opcje'}"></td>
                        </tr>
                        <tr>
                            <td class="colTableName">dsads</td>
                            <td class="colTable">dsda</td>
                            <td class="colTable">dsdsa</td>
                            <td class="colTable">sdads</td>
                        </tr>
                    </table>
                </div>
            </div>
        </form>
    </div>
    <div id="footer" style="display: block; clear: left" >
        <div th:replace="foot/foot.html::foot"></div>
    </div>
</div>
</body>

<script>
    function manage(txt) {
        var bt = document.getElementById('addPay');
        var ele = document.getElementsByName('wplata');

        // LOOP THROUGH EACH ELEMENT.
        for (i = 0; i < ele.length; i++) {

            // CHECK THE ELEMENT TYPE.
            if (ele[i].type == 'text' && ele[i].value == '') {
                bt.disabled = true;    // Disable the button.
                return false;
            }
            else {
                bt.disabled = false;   // Enable the button.
            }
        }
    }
</script>

<script>
var date = new Date();
var currentDate = date.toISOString().slice(0,10);
document.getElementById('setDate').value = currentDate;
</script>

</html>